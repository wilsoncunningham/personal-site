<div class="container page-content py-5">

  <div title="page-title" class="py-4">
    <h1 ><em>Reading</em></h1>
  </div>

  <div title="reading-description" class="py-2">
    <p>
      Since finishing up my bachelor's in March, I have taken up the hobby of reading—but solely for my own enrichment this time around. While my reading journey is still budding, I have learned a lot so far, and I have a robust list of books I'd like to read in the future. Many people claim that they don't like to read, and I believe they are mistaken. What I have learned in my journey is that they simply have not yet discovered what they love to read.
    </p>
  </div>

  <div class="row vpadding-thin text-start">
    <div class="col">
      <h3 >Reading Log</h3>
    </div>
    <div class="col-9">
      <p>
        To help myself discover what I love to read and to simply keep track, I have kept a detailed log of what I have been reading, giving ratings for each of my reads.
      </p>
      <p>
        <em><u>A note:</u></em> To see my notes for each book, click the "Notes" button. My notes are very casual and my arguments may be left entirely unjustified. Treat these notes more as journal entries or reflections rather than formal reviews. I write these notes for myself to look back on, and I am posting them here as well simply as an invitation to thought. Finally, <span ><b><em>SPOILER ALERT:</em></b></span> My notes are filled with spoilers. I will thus leave them as drop-downs, only visible once clicked on. 
      </p>
    </div>
  </div>

  <div class="container px-0 mx-0 vpadding-thick">

    <% if current_user && current_user.admin? %>
      <a class="" href="/admin/new_book">New Book</a>
    <% end %>

    <table class="table table-striped table-dark table-hover reading-log-table libre-franklin">
      <thead>
        <tr>
          <% if current_user && current_user.admin? %>
            <th scope="col" class="text-center"></th>
          <% end %>
          <th scope="col">TITLE</th>
          <th scope="col">DATE</th>
          <th scope="col">RATING</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% @list_of_books.each do |book| %>
          <tr>
            <% if current_user && current_user.admin? %>
              <td class="text-center align-middle">
                <a href="/reading/<%= book.id %>" class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
                  Edit
                </a>
              </td>
            <% end %>
            
            <td  class="">
              <%= book.title %><br>by <%= book.author %>
            </td>

            <td  class="">
              <% if book.start_date == book.end_date %>
                <%= book.start_date.strftime("%B %-d, %Y") %>
              <% elsif book.start_date.month == book.end_date.month %>
                <%= book.start_date.strftime("%B %-d") %>–<%= book.end_date.strftime("%-d, %Y") %>
              <% else %>
                <%= book.start_date.strftime("%B %-d") %> – <%= book.end_date.strftime("%B %-d, %Y") %>
              <% end %>            
            </td>
            <td  class="">
              <%= book.rating %>
            </td>
            <td  class="align-middle">
              <button type="button" class="btn btn-light btn-sm" data-bs-toggle="collapse" data-bs-target="#notes<%= book.id %>" aria-expanded="false">
                Notes
              </button>
            </td>
          </tr>

          <tr>
            <td colspan="4">
              <div id="notes<%= book.id %>" class="collapse mt-2 text-indent notes-border">
                <%= book.notes.html_safe %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

</div>
