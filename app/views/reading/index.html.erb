<div class="container page-content py-5">

  <div class="py-4">
    <h1 ><em>Reading</em></h1>
  </div>

  <div class="py-2">
    <p>
      Since completing my bachelor's in March, I’ve taken up reading—this time purely for my own enrichment. Although my reading journey is still in its early stages, it has already broadened my perspective and left me with a robust list of books I am eager to explore. Many people say they don’t like to read, but I think that they are mistaken. More often than not, they simply haven’t yet found what they love to read.
    </p>
  </div>

  <div class="row vpadding-thin text-start">
    <div class="col">
      <h3 >Reading Log</h3>
    </div>
    <div class="col-9">
      <p>
        To explore my interests and track my progress, I’ve kept a detailed reading log with ratings for each book.
      </p>
      <p>
        <em><u>A note:</u></em> To view my thoughts on each book, click the "Notes" button. These reflections are informal and may not present fully developed arguments—think of them more as journal entries than formal reviews. I write them primarily for myself to revisit, but I share them here as an open invitation to reflection.
      </p>
      <p>
        <span class="fire-red"><b><em>SPOILER ALERT:</em></b></span> Many notes contain spoilers, so they are hidden in drop-downs that only appear once clicked.
      </p>
    </div>
  </div>

  <div class="px-0 mx-0 vpadding-thick">

    <% if current_user && current_user.admin? %>
      <a class="" href="/admin/new_book">New Book</a>
    <% end %>

    <table class="table table-striped table-dark table-hover reading-log-table libre-franklin">
      <thead>
        <tr>
          <% if current_user && current_user.admin? %>
            <th scope="col" class="text-center"></th>
          <% end %>
          <th scope="col">TITLE</th>
          <th scope="col">DATE</th>
          <th scope="col">RATING</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        <% @list_of_books.each do |book| %>
          <tr>
            <% if current_user && current_user.admin? %>
              <td class="text-center align-middle">
                <a href="/reading/<%= book.id %>" class="link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover">
                  Edit
                </a>
              </td>
            <% end %>
            
            <td  class="">
              <%= book.title %><br>by <%= book.author %>
            </td>

            <td  class="">
              <% if book.start_date == book.end_date %>
                <%= book.start_date.strftime("%B %-d, %Y") %>
              <% elsif book.start_date.month == book.end_date.month %>
                <%= book.start_date.strftime("%B %-d") %>–<%= book.end_date.strftime("%-d, %Y") %>
              <% else %>
                <%= book.start_date.strftime("%B %-d") %> – <%= book.end_date.strftime("%B %-d, %Y") %>
              <% end %>            
            </td>
            <td  class="">
              <%= book.rating %>
            </td>
            <td  class="align-middle">
              <button type="button" class="btn btn-light btn-sm" data-bs-toggle="collapse" data-bs-target="#notes<%= book.id %>" aria-expanded="false">
                Notes
              </button>
            </td>
          </tr>

          <tr>
            <td colspan="4">
              <div id="notes<%= book.id %>" class="collapse mt-2 text-indent notes-border">
                <%= book.notes.html_safe %>
              </div>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>

    <div class="my-4 mx-3 d-flex justify-content-center">
      <%= paginate @list_of_books,
            window: 1,
            params_on_first_page: true %>
    </div>

  </div>

</div>
