<div class="container">

  <h1 class="mb-4">Edit Photo</h1>

  <%= form_with model: @photo, local: true do |form| %>
    <div class="mb-3">
      <%= form.label :title, class: "form-label" %>
      <%= form.text_field :title, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= form.label :caption, class: "form-label" %>
      <%= form.text_area :caption, rows: 3, class: "form-control" %>
    </div>

    <div class="mb-4">
      <% if @photo.image.attached? %>
        <%= image_tag @photo.image, class: "img-fluid shadow-sm" %>
      <% end %>
    </div>

    <div class="d-flex gap-2">
      <%= form.submit "Update Photo", class: "btn btn-primary" %>

      <%= link_to "Delete Photo", photo_path(@photo),
                  data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this photo?" },
                  class: "btn btn-danger" %>

      <%= link_to "Back to Gallery", photos_path, class: "btn btn-secondary" %>
    </div>
  <% end %>

</div>
